<!DOCTYPE html>
<html lang="ko">
<head>    <meta charset="utf-8">
    
    <title>(C/C++) 참고용 정리 - 포인터와 배열 | 오늘도 끄적끄적</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="robots" content="index,follow">
    

    <link rel="canonical" href="http://perfectacle.github.io/2017/01/23/C-ref-001/">
    <meta name="description" content="윤성우 님의 열혈 C 프로그래밍 동영상 강좌를 열심히 보고 있다.자바는 메모리 관리를 안 해도 된다지만 공부하면 할 수록 메모리에 자꾸만 관심이 갔다.그러한 갈증에 대한 해소를 C언어에서 할 수 있었다.   포인터메모리 주소의 값을 가지고 있는 변수이다.주된 용도는 특정 변수의 메모리 주소의 값을 가지고 있는 변수이지만,아래와 같은 것도 가능하다.12345">
<meta name="keywords" content="C,C++,Pointer,Address,Array">
<meta property="og:type" content="article">
<meta property="og:title" content="(C&#x2F;C++) 참고용 정리 - 포인터와 배열">
<meta property="og:url" content="http://perfectacle.github.io/2017/01/23/C-ref-001/index.html">
<meta property="og:site_name" content="오늘도 끄적끄적">
<meta property="og:description" content="윤성우 님의 열혈 C 프로그래밍 동영상 강좌를 열심히 보고 있다.자바는 메모리 관리를 안 해도 된다지만 공부하면 할 수록 메모리에 자꾸만 관심이 갔다.그러한 갈증에 대한 해소를 C언어에서 할 수 있었다.   포인터메모리 주소의 값을 가지고 있는 변수이다.주된 용도는 특정 변수의 메모리 주소의 값을 가지고 있는 변수이지만,아래와 같은 것도 가능하다.12345">
<meta property="og:locale" content="ko">
<meta property="og:image" content="http://perfectacle.github.io/2017/01/23/C-ref-001/thumb.png">
<meta property="og:updated_time" content="2017-08-03T18:12:53.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="(C&#x2F;C++) 참고용 정리 - 포인터와 배열">
<meta name="twitter:description" content="윤성우 님의 열혈 C 프로그래밍 동영상 강좌를 열심히 보고 있다.자바는 메모리 관리를 안 해도 된다지만 공부하면 할 수록 메모리에 자꾸만 관심이 갔다.그러한 갈증에 대한 해소를 C언어에서 할 수 있었다.   포인터메모리 주소의 값을 가지고 있는 변수이다.주된 용도는 특정 변수의 메모리 주소의 값을 가지고 있는 변수이지만,아래와 같은 것도 가능하다.12345">
<meta name="twitter:image" content="http://perfectacle.github.io/2017/01/23/C-ref-001/thumb.png">
    
    

    
        <link rel="alternate" href="/atom.xml" title="오늘도 끄적끄적" type="application/atom+xml">
    

    
        <link rel="icon" href="/css/images/favicon.png">
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-87795455-1', 'auto');
ga('send', 'pageview');

</script>
    
    


    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-3881550906962162",
        enable_page_level_ads: true
      });
    </script>
</head>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/">
                            <img src="/css/images/logo.png" class="logo" alt="로고"><br>
                            <span class="txt-title">오늘도 끄적끄적</span>
                        </a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                            <li class="main-nav-list-item">
                                <a class="main-nav-list-link" href="/">Home</a>
                            </li>
                            
                            <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Back-end/">Back-end</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Back-end/Spring/">Spring</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Front-end/">Front-end</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Front-end/Babel/">Babel</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Front-end/React/">React</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Front-end/Webpack/">Webpack</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Middle-end/">Middle-end</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Middle-end/Pattern/">Pattern</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Middle-end/git/">git</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Middle-end/자료구조/">자료구조</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Note/">Note</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Note/C-C/">C/C++</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Note/Java/">Java</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Note/Spring-Boot/">Spring Boot</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/">Programming</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/ASM/">ASM</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/ECMAScript/">ECMAScript</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/Node-js/">Node.js</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/">기타</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/등등/">등등</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/음악/">음악</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/자작/">자작</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/잡동사니/">잡동사니</a></li></ul></li></ul>
                            
                            <li class="main-nav-list-item">
                                <a class="main-nav-list-link" href="/about/index.html">About</a>
                            </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="검색">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="검색어를 입력하세요...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '포스트',
            PAGES: 'Pages',
            CATEGORIES: '카테고리',
            TAGS: '태그',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                
                
                <section id="main">
                    <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Note/">Note</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/Note/C-C/">C/C++</a>
    </h1>
</div>
                    <div class="main-body-content">
                        <article id="post-C-ref-001" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
            
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        (C/C++) 참고용 정리 - 포인터와 배열
        </h1>
    

            </header>
            
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2017/01/23/C-ref-001/" class="article-date">
            <time datetime="2017-01-23T02:00:21.000Z" itemprop="datePublished">2017-01-23</time>
        </a>
    </div>

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Address/">Address</a>, <a class="tag-link" href="/tags/Array/">Array</a>, <a class="tag-link" href="/tags/C/">C</a>, <a class="tag-link" href="/tags/C/">C++</a>, <a class="tag-link" href="/tags/Pointer/">Pointer</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p><img src="thumb.png" alt=""><br>윤성우 님의 열혈 C 프로그래밍 동영상 강좌를 열심히 보고 있다.<br>자바는 메모리 관리를 안 해도 된다지만 공부하면 할 수록 메모리에 자꾸만 관심이 갔다.<br>그러한 갈증에 대한 해소를 C언어에서 할 수 있었다.  </p>
<h2 id="포인터"><a href="#포인터" class="headerlink" title="포인터"></a>포인터</h2><p><code>메모리 주소의 값</code>을 가지고 있는 <code>변수</code>이다.<br>주된 용도는 <code>특정 변수</code>의 메모리 주소의 값을 가지고 있는 변수이지만,<br>아래와 같은 것도 가능하다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// 0x00000013이 어떤 영역인지 모른다.</span></div><div class="line">    <span class="comment">// 만약 OS영역이라면 치명적인 오류가 나고, 시스템이 뻗을 수도 있다.</span></div><div class="line">    <span class="comment">// 하지만 요즘 OS들은 다들 방어적으로들 행동한다고 한다.</span></div><div class="line">    <span class="comment">// 혹시 모르니 아래 코드는 권장하지 않는다.</span></div><div class="line">    <span class="keyword">long</span>* ptr = <span class="number">0x00000013</span>; <span class="comment">// 에러를 뿜는 컴파일러도 있으니 권장하지 않음.</span></div><div class="line">    *ptr = <span class="number">13</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>위와 같은 코드는 OS 영역을 건들지도 모르므로 매우 위험하다.<br>따라서 아래와 같이 써야한다.  </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">long</span> num = <span class="number">123</span>;</div><div class="line">    <span class="keyword">long</span>* ptr = &amp;num;</div><div class="line">    *ptr = <span class="number">13</span>;</div><div class="line">    <span class="comment">// %p의 크기는 운영체제의 bit에 따라, 값은 실행할 때마다 달라질 수 있다.</span></div><div class="line">    <span class="comment">// 핵심은 ptr에 저장된 값과 num의 메모리 번지수가 동일하다는 것이다.</span></div><div class="line">    <span class="comment">// 0x7fff588a2ad8 0x7fff588a2ad8</span></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%p %p"</span>, &amp;num, ptr);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="크기"><a href="#크기" class="headerlink" title="크기"></a>크기</h3><p>위에서 보듯이 포인터는 실수가 아닌 정수이다.<br>하지만 그 크기가 1byte인지 2byte인지 어떻게 알 수 있을까?<br>그 크기는 OS에 의존적이다.<br>OS를 깔 때 32bit 버전, 64bit 버전의 컴퓨터를 본 적이 있다.<br>32bit는 OS에서 한 번에 처리할 수 있는 데이터의 양은 32bit, 즉 4byte이다.<br>왜냐하면 CPU가 처리하는 데이터의 최소 단위인 Register의 크기가 몇 bit인지에서 나오기 때문이다.<br>또한 한 번에 이동시킬 수 있는 데이터의 양 또한 32bit라고 한다.<br>데이터 버스를 이용하는 건지 뭔지는 잘 모르겠다.<br>이는 메인 메모리(RAM, Random Access Memory)의 인식과도 관련이 있다.<br>참고로 메인 메모리의 주소 체계는 1byte 단위이다.<br>2<sup>32</sup>Byte = 2<sup>22</sup>Kilobyte = 2<sup>12</sup>Megabyte = 2<sup>2</sup>Gigabyte = 4GB  </p>
<blockquote>
<p>잠시 다른 이야기, 왜 32비트 컴퓨터를 x86이라고 부를까?<br>통칭 x86계열의 CPU가 32비트까지 나와있고, 여기서 64비트를 지원하도록 확장된게 x86-64죠. 그래서 x86-64를 줄여서 간단히 x64…<br>8080 - 8086 - 80186 - 80286 - 80386 - 80486 - 80586 등으로 나가는 인텔의 CPU를 통칭해서 x86이라고 부름  </p>
</blockquote>
<p>그렇다면 64bit의 경우에는 어떨까?<br>64bit를 지원하는 CPU에 64bit의 OS가 깔린 경우라는 가정하에…<br>CPU의 Register의 크기가 64bit라서 한 번에 연산(처리)할 수 있는 데이터의 양은 64bit, 즉 8byte.<br>한 번에 이동시킬 수 있는 데이터의 양 또한 64bit.<br>이론 상으로 인식할 수 있는 메인 메모리의 크기는<br>2<sup>64</sup>Byte = 2<sup>54</sup>Kilobyte = 2<sup>44</sup>Megabyte = 2<sup>34</sup>Gigabyte = 2<sup>24</sup>Terabyte<br>= 2<sup>14</sup>Petabyte = 2<sup>4</sup>Exabyte = 16EB  </p>
<p>참고로 말하자면 int의 크기 또한 OS의 bit에 의존적이지 않다!!<br>같은 64bit지만 컴파일러에 따라서 int의 크기가 달라지기도 하는 것 같다.<br>하지만 표준이나 요새 상황은 잘 모르겠다.</p>
<blockquote>
<p>엄밀하게는 컴파일러에 따라 int 크기가 다르다…가 답일거 같군요.<br>  <a href="http://stackoverflow.com/questions/10197242/what-should-be-the-sizeofint-on-a-64-bit-machine" rel="external nofollow noopener noreferrer" target="_blank">http://stackoverflow.com/questions/10197242/what-should-be-the-sizeofint-on-a-64-bit-machine</a><br>  Sang-Kyu Ahn님</p>
<p>C99 표준에 따르면 sizeof(char)=1이란 것만 정해져 있고, char는 최소 8비트 라는 것이 정해져 있습니다(limits.h를 통해). 그 다음부터는 상대적인 크기로만 되어 있죠. 보통은 그래서 char가 8비트이지만, 16비트 char를 쓴다고 해서 표준 위반은 아니죠.<br>  short는 마찬가지 방식으로 16비트 이상이면 되고, int는 기계가 다루는 가장 자연스러운(?) 크기(보통은 CPU레지스터나 데이터 버스 크기에 따르겠죠)면서 최소 16비트, long은 int보다 크거나 같은 크기이면서 32비트, long long은 long보다 크거나 같으면서 최소 64비트…<br>  따라서 64비트 머신이라면 64비트 char, short, int, long, long long 도 표준 위반이 아닙니다.<br>  Hyunsok Oh님</p>
</blockquote>
<p>이미지와 소스 코드의 출처는 <a href="http://blog.junsu.kim/entry/32bit%EC%99%80-64bit%EC%9D%98-C-%EC%9E%90%EB%A3%8C%ED%98%95Data-Type-%ED%81%AC%EA%B8%B0-%EC%B0%A8%EC%9D%B4" rel="external nofollow noopener noreferrer" target="_blank">32bit와 64bit의 C 자료형(Data Type) 크기 차이</a>이다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"\n-- General Data Type Size --\n"</span>);</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"char size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"short size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">short</span>));</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"int size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"long size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">long</span>));</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"double size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">double</span>));</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"long double size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">long</span> <span class="keyword">double</span>));</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"\n-- Pointer Data Type Size -- \n"</span>);</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"char* size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">char</span>*));</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"short* size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">short</span>*));</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"int* size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">int</span>*));</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"long* size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">long</span>*));</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"double* size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">double</span>*));</div><div class="line">    <span class="built_in">printf</span> (<span class="string">"long double* size : %d byte\n"</span>, (<span class="keyword">int</span>)<span class="keyword">sizeof</span>(<span class="keyword">long</span> <span class="keyword">double</span>*));</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="32bit.png" alt="32bit os에서 확인한 결과"><br><img src="64bit.png" alt="64bit os에서 확인한 결과">  </p>
<h3 id="포인터-변수-타입에-대한-이해"><a href="#포인터-변수-타입에-대한-이해" class="headerlink" title="포인터 변수 타입에 대한 이해"></a>포인터 변수 타입에 대한 이해</h3><p>32bit에서는 포인터 변수의 크기가 4byte, 64bit에서는 포인터 변수의 크기가 8byte다.<br>포인터의 크기는 OS에 의존적인데 그럼 그 변수의 타입도 OS에 의존적인 타입만 써야하지 않을까…? NO!!<br>32bit OS에서 놓고 포인터 변수의 크기도 4byte, long의 크기도 4byte이다.<br>64bit OS에서 놓고 포인터 변수의 크기도 8byte, long의 크기도 8byte이다.<br>따라서 포인터 변수의 타입은 무조건 long이면 될 것 같다.<br>그런데 왜 char<em>, short</em>, int<em>, float</em>, double* 요런 놈이 존재하는 걸까…?<br>그건 포인터를 쓰는 근본적인 목적인 메모리 주소에 대한 <code>접근</code> 때문이다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">double</span> num = <span class="number">123.2</span>;</div><div class="line">    <span class="comment">// 컴파일 되지않는 컴파일러도 있지만, 메모리 주소인 정수값을 long에 담는 것이니 상관이 없다고 여긴다.</span></div><div class="line">    <span class="keyword">long</span> ptr = &amp;num;</div><div class="line">    <span class="comment">// 해당 주소로 접근해서 그 주소에 있는 값을 바꾸려고 한다.</span></div><div class="line">    <span class="comment">// 하지만 ptr이란 놈은 num의 주소만 알고있을 뿐이지 어떤 타입인지 알지 못한다.</span></div><div class="line">    <span class="comment">// 메모리에는 0과 1의 값만 잔뜩 들어가있는데 그러한 정보를 알 수 없다.</span></div><div class="line">    <span class="comment">// 따라서 에러가 나거나 원하는 결과가 나오지 않을 것이다.</span></div><div class="line">    *ptr = <span class="number">13.4</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>위의 예제에서 알 수 있듯이 메모리 주소만으로는 해당 메모리 주소가 가리키는 공간이 어떠한 타입인지<br>즉 몇 byte를 조작해야 내가 원하는 결과가 나올지, 문자일지 숫자일지 등등을 판단하기 힘들다.<br>즉 포인터의 타입은 <code>포인터가 가리키는 곳의 타입</code>을 알고 있는 것이지,<br>포인터의 크기를 알고 있는 아이가 아니다.<br>포인터의 크기는 신경쓸 필요도 없고 컴파일러가 알아서 처리하는 것 같다.<br>포인터 변수의 데이터 타입이 달라도 컴파일이 되는 경우도 있지만 추천하지 않는다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// int형 1은</span></div><div class="line">    <span class="comment">// 00000000 00000000 00000000 00000001</span></div><div class="line">    <span class="keyword">int</span> num = <span class="number">1</span>;</div><div class="line">    <span class="comment">// int*이 아니지만 컴파일 되는 컴파일러도 있다.</span></div><div class="line">    <span class="comment">// short*이라고 선언했기 때문에 2byte라고 인식한다.</span></div><div class="line">    <span class="keyword">short</span>* ptr = &amp;num;</div><div class="line">    <span class="comment">// short형 2는</span></div><div class="line">    <span class="comment">// 00000000 00000010</span></div><div class="line">    *ptr = <span class="number">2</span>;</div><div class="line">    <span class="comment">// 따라서 num은 아래와 같이 바뀌어있다.</span></div><div class="line">    <span class="comment">// 00000000 00000010 00000000 00000001</span></div><div class="line">    <span class="comment">// 정수로 131073</span></div><div class="line">    <span class="comment">// 컴파일이 되는 경우도 있지만 올바른 값이 나오지 않으므로 권장하지 않는다.</span></div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="배열"><a href="#배열" class="headerlink" title="배열"></a>배열</h2><p>배열은 연속된 메모리 공간에 할당하는 것을 뜻한다.<br>연속해서 메모리 공간에 할당하는 이유는 두가지가 아닐까 싶다.  </p>
<ol>
<li>중간 중간 이빨이 나가지 않아 메모리 단편화가 안 일어나지 않을까?  </li>
<li>반복문 측면에서 주소값+배열 타입만 하면 되기 때문이지 않을까?<br>또한 변수를 하나만 선언해도 된다는 장점이 존재한다.</li>
</ol>
<p>그리고 배열의 이름도 포인터이다.<br>하지만 포인터와의 차이점이라면 포인터 <code>상수</code>라는 점이다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> num[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</div><div class="line">    <span class="comment">// 0x7fff58f16acc 0x7fff58f16acc</span></div><div class="line">    <span class="comment">// &amp;연산자를 붙이지도 않았는데 변수의 이름이 주소값을 가리킨다.</span></div><div class="line">    <span class="comment">// 즉 배열의 이름은 배열의 첫번째 요소의 주소값(포인터)와 같다.</span></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%p %p"</span>, num, &amp;num[<span class="number">0</span>]);</div><div class="line">    <span class="comment">// 포인터이기 때문에 메모리 주소로 접근이 가능하다.</span></div><div class="line">    *num = <span class="number">3</span>;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d %d %d"</span>, *num, *&amp;num[<span class="number">0</span>], num[<span class="number">0</span>]);</div><div class="line">    <span class="comment">// 하지만 포인터 상수이기 때문에 컴파일 에러가 난다.</span></div><div class="line">    num = &amp;num[<span class="number">2</span>];</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>C언어에서 배열의 이름은 포인터 상수라고 했기 때문에 아래와 같은 게 불가능하다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> num[<span class="number">2</span>];</div><div class="line">    <span class="comment">// 배열의 이름은 포인터 상수라서 컴파일 에러.</span></div><div class="line">    num = &#123;<span class="number">1</span>, <span class="number">3</span>&#125;;</div><div class="line">    <span class="comment">// 따라서 아래와 같이 해줘야하는데 매우 귀찮아지므로 선언과 동시에 초기화해주는 것이 좋다.</span></div><div class="line">    num[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">    num[<span class="number">1</span>] = <span class="number">3</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="포인터의-덧셈-뺄셈-증감-연산자-–"><a href="#포인터의-덧셈-뺄셈-증감-연산자-–" class="headerlink" title="포인터의 덧셈, 뺄셈, 증감 연산자(+, -, ++, –)"></a>포인터의 덧셈, 뺄셈, 증감 연산자(+, -, ++, –)</h3><p>포인터에서 포인터 ± n은 다음과 같은 의미를 가진다.<br>주소값 ± n * sizeof(포인터 변수 타입)<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> num = <span class="number">123</span>;</div><div class="line">    <span class="keyword">int</span>* ptr = &amp;num;</div><div class="line">    <span class="comment">// 0x7fff5fb37adc</span></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%p\n"</span>, ptr);</div><div class="line">    <span class="comment">// 0x7fff5fb37adc + sizeof(int)</span></div><div class="line">    <span class="comment">// 0x7fff5fb37adc + 4</span></div><div class="line">    <span class="comment">// 즉, 0x7fff5fb37ae0</span></div><div class="line">    ptr += <span class="number">1</span>;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%p\n"</span>, ptr);</div><div class="line">    <span class="comment">// 0x7fff5fb37ae0 + 4</span></div><div class="line">    <span class="comment">// 즉, 0x7fff5fb37ae4</span></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%p\n"</span>, ++ptr);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>배열의 이름 또한 상수이지만 일단은 포인터이기 때문에 덧셈, 뺄셈 연산자를 사용할 수 있다.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> num[] = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;;</div><div class="line">    <span class="comment">// c언어에서는 배열의 length를 구하는 api가 없다.</span></div><div class="line">    <span class="keyword">int</span> length = <span class="keyword">sizeof</span>(num) / <span class="keyword">sizeof</span>(<span class="keyword">int</span>);</div><div class="line">    <span class="comment">// 배열의 이름이 포인터이기 때문에 &amp;를 안 붙여도 됨.</span></div><div class="line">    <span class="keyword">int</span>* ptr = num;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;length;) <span class="built_in">printf</span>(<span class="string">"%d "</span>, num[i++]); <span class="comment">// 1 3 5</span></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    <span class="comment">// 배열의 이름은 포인터이기 때문에 *를 붙여줘야 함.</span></div><div class="line">    <span class="comment">// 또한 덧셈 연산자나 증감 연산자 보다 * 연산자의 우선순위가 더 높아서 괄호로 우선순위를 명시해줘야 함.</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;length;) <span class="built_in">printf</span>(<span class="string">"%d "</span>, *(num + (i++))); <span class="comment">// 1 3 5</span></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;length;) <span class="built_in">printf</span>(<span class="string">"%d "</span>, *(ptr + (i++))); <span class="comment">// 1 3 5</span></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    <span class="comment">// 배열의 이름은 포인터 상수이기 때문에 아래와 같은 것이 불가능하다.</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i++&lt;length;) <span class="built_in">printf</span>(<span class="string">"%d "</span>, *(num++));</div><div class="line">    <span class="comment">// ptr은 포인터 변수이기 때문에 아래와 같은 것이 가능하다.</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i++&lt;length;) <span class="built_in">printf</span>(<span class="string">"%d "</span>, *(ptr++)); <span class="comment">// 1 3 5</span></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    num[<span class="number">0</span>] = <span class="number">5</span>;</div><div class="line">    *(num+<span class="number">1</span>) = <span class="number">3</span>; <span class="comment">// num[1]과 동일함, 괄호 빼면 안 된다.</span></div><div class="line">    *(--ptr) = <span class="number">1</span>; <span class="comment">// ptr++를 3번 해줘서 ptr+3이 되었으므로 배열의 범위를 벗어났으니 한 번 빼줘야 함.</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;length;) <span class="built_in">printf</span>(<span class="string">"%d "</span>, *(num + (i++))); <span class="comment">// 5 3 1</span></div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="참조-링크"><a href="#참조-링크" class="headerlink" title="참조 링크"></a>참조 링크</h2><ul>
<li><a href="http://bluese05.tistory.com/17" rel="external nofollow noopener noreferrer" target="_blank">Windows 환경에서 32 bit 와 64 bit</a>  </li>
<li><a href="https://kldp.org/node/102650" rel="external nofollow noopener noreferrer" target="_blank">왜 32비트 환경을 x86이라고 하는걸까요?</a>  </li>
<li><a href="http://blog.junsu.kim/entry/32bit%EC%99%80-64bit%EC%9D%98-C-%EC%9E%90%EB%A3%8C%ED%98%95Data-Type-%ED%81%AC%EA%B8%B0-%EC%B0%A8%EC%9D%B4" rel="external nofollow noopener noreferrer" target="_blank">32bit와 64bit의 C 자료형(Data Type) 크기 차이</a>  </li>
<li><a href="http://foxlime.tistory.com/115" rel="external nofollow noopener noreferrer" target="_blank">32bit 자료형 / 64bit 자료형의 크기 정리</a>  </li>
<li><a href="https://kldp.org/node/61089" rel="external nofollow noopener noreferrer" target="_blank">64bit 머신에서 int형이 64bit가 아닌가요?</a>  </li>
<li><a href="http://dev.likejazz.com/post/69840022906/long%EA%B3%BC-int%EB%8A%94-%ED%81%AC%EA%B8%B0%EA%B0%80-%EA%B0%99%EC%9D%80%EB%8D%B0-%EC%99%9C-%EC%A1%B4%EC%9E%AC%ED%95%98%EB%82%98%EC%9A%94" rel="external nofollow noopener noreferrer" target="_blank">long과 int는 크기가 같은데 왜 존재하나요?</a>  </li>
</ul>

        </div>
        
        <footer class="article-footer">
            



    <a data-url="http://perfectacle.github.io/2017/01/23/C-ref-001/" data-id="cj7wr45vd000ghkn92eyadvy1" class="article-share-link"><i class="fa fa-share"></i>공유하기</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
        
    </div>
</article>


    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                    </div>
                </section>
                
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <p>&copy; 2017 양권성</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'exobud';
    
    
    var disqus_url = 'http://perfectacle.github.io/2017/01/23/C-ref-001/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
