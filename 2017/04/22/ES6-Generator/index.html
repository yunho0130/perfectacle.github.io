<!DOCTYPE html>
<html lang="ko">
<head>    <meta charset="utf-8">
    
    <title>ES6 Generator | 오늘도 끄적끄적</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="robots" content="index,follow">
    

    <link rel="canonical" href="http://perfectacle.github.io/2017/04/22/ES6-Generator/">
    <meta name="description" content="들어가기에 앞서이 포스트는 GDG 2016에서 발표하신 맹기완 님의 발표를 듣고 감명을 받아 정리해본 글이다.(ES6) Interface와 (ES6) Symbol, (ES6) Iterator에 대한 내용은 링크를 참조하도록 하자.   사용 사례이 사용 사례가 전부는 아니겠지만, 제너레이터는 이터레이터를 구현할 때 좀 더 쉽게 만들어준다.우리는 지난 포">
<meta name="keywords" content="JS,ES,ES6,ES2015,Interface,Symbol,Iterator,Generator">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6 Generator">
<meta property="og:url" content="http://perfectacle.github.io/2017/04/22/ES6-Generator/index.html">
<meta property="og:site_name" content="오늘도 끄적끄적">
<meta property="og:description" content="들어가기에 앞서이 포스트는 GDG 2016에서 발표하신 맹기완 님의 발표를 듣고 감명을 받아 정리해본 글이다.(ES6) Interface와 (ES6) Symbol, (ES6) Iterator에 대한 내용은 링크를 참조하도록 하자.   사용 사례이 사용 사례가 전부는 아니겠지만, 제너레이터는 이터레이터를 구현할 때 좀 더 쉽게 만들어준다.우리는 지난 포">
<meta property="og:locale" content="ko">
<meta property="og:image" content="http://perfectacle.github.io/2017/04/22/ES6-Generator/thumb.png">
<meta property="og:updated_time" content="2017-06-25T17:13:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ES6 Generator">
<meta name="twitter:description" content="들어가기에 앞서이 포스트는 GDG 2016에서 발표하신 맹기완 님의 발표를 듣고 감명을 받아 정리해본 글이다.(ES6) Interface와 (ES6) Symbol, (ES6) Iterator에 대한 내용은 링크를 참조하도록 하자.   사용 사례이 사용 사례가 전부는 아니겠지만, 제너레이터는 이터레이터를 구현할 때 좀 더 쉽게 만들어준다.우리는 지난 포">
<meta name="twitter:image" content="http://perfectacle.github.io/2017/04/22/ES6-Generator/thumb.png">
    
    

    
        <link rel="alternate" href="/atom.xml" title="오늘도 끄적끄적" type="application/atom+xml">
    

    
        <link rel="icon" href="/css/images/favicon.png">
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-87795455-1', 'auto');
ga('send', 'pageview');

</script>
    
    


    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-3881550906962162",
        enable_page_level_ads: true
      });
    </script>
</head>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/">
                            <img src="/css/images/logo.png" class="logo" alt="로고"><br>
                            <span class="txt-title">오늘도 끄적끄적</span>
                        </a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                            <li class="main-nav-list-item">
                                <a class="main-nav-list-link" href="/">Home</a>
                            </li>
                            
                            <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Back-end/">Back-end</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Back-end/Spring/">Spring</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Back-end/Spring-Boot/">Spring Boot</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Front-end/">Front-end</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Front-end/Babel/">Babel</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Front-end/React/">React</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Front-end/Webpack/">Webpack</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Middle-end/">Middle-end</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Middle-end/Pattern/">Pattern</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Middle-end/git/">git</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Middle-end/자료구조/">자료구조</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Note/">Note</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Note/Dev/">Dev</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Note/Java/">Java</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Note/Spring-Boot/">Spring Boot</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/">Programming</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/ASM/">ASM</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/C-C/">C/C++</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/ECMAScript/">ECMAScript</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Programming/Node-js/">Node.js</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/">기타</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/등등/">등등</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/음악/">음악</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/자작/">자작</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/잡동사니/">잡동사니</a></li></ul></li></ul>
                            
                            <li class="main-nav-list-item">
                                <a class="main-nav-list-link" href="/about/index.html">About</a>
                            </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="검색">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="검색어를 입력하세요...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '포스트',
            PAGES: 'Pages',
            CATEGORIES: '카테고리',
            TAGS: '태그',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                
                
                <section id="main">
                    <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Programming/">Programming</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/Programming/ECMAScript/">ECMAScript</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/Programming/ECMAScript/ES2015/">ES2015+</a>
    </h1>
</div>
                    <div class="main-body-content">
                        <article id="post-ES6-Generator" class="article article-single article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
            
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        ES6 Generator
        </h1>
    

            </header>
            
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2017/04/22/ES6-Generator/" class="article-date">
            <time datetime="2017-04-22T08:17:14.000Z" itemprop="datePublished">2017-04-22</time>
        </a>
    </div>

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/ES/">ES</a>, <a class="tag-link" href="/tags/ES2015/">ES2015</a>, <a class="tag-link" href="/tags/ES6/">ES6</a>, <a class="tag-link" href="/tags/Generator/">Generator</a>, <a class="tag-link" href="/tags/Interface/">Interface</a>, <a class="tag-link" href="/tags/Iterator/">Iterator</a>, <a class="tag-link" href="/tags/JS/">JS</a>, <a class="tag-link" href="/tags/Symbol/">Symbol</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p><img src="thumb.png" alt="">  </p>
<h2 id="들어가기에-앞서"><a href="#들어가기에-앞서" class="headerlink" title="들어가기에 앞서"></a>들어가기에 앞서</h2><p>이 포스트는 <a href="https://festi.kr/festi/gdg-korea-2016-devfest-seoul/" rel="external nofollow noopener noreferrer" target="_blank">GDG 2016</a>에서 발표하신 <a href="https://www.facebook.com/hika00" rel="external nofollow noopener noreferrer" target="_blank">맹기완</a> 님의 <a href="http://www.bsidesoft.com/?p=2913" rel="external nofollow noopener noreferrer" target="_blank">발표</a>를 듣고 감명을 받아 정리해본 글이다.<br><a href="/2016/12/25/es6-interface/">(ES6) Interface</a>와 <a href="/2017/04/16/ES6-Symbol/">(ES6) Symbol</a>, <a href="/2017/04/22/ES6-Iterator/">(ES6) Iterator</a>에 대한 내용은 링크를 참조하도록 하자.  </p>
<h2 id="사용-사례"><a href="#사용-사례" class="headerlink" title="사용 사례"></a>사용 사례</h2><p>이 사용 사례가 전부는 아니겠지만, 제너레이터는 이터레이터를 구현할 때 좀 더 쉽게 만들어준다.<br>우리는 지난 포스트에서 다음과 같이 배열의 요소를 거꾸로 사용하는 이터레이터를 구현해보았다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// this를 바인딩해야하므로 ES5식 함수 사용</span></div><div class="line"><span class="keyword">const</span> makeIteratorResultObject = <span class="function"><span class="keyword">function</span>(<span class="params">idx</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123; <span class="comment">// IteratorResult 인터페이스를 준수한 객체를 반환</span></div><div class="line">    value: <span class="keyword">this</span>.slice(-idx)[<span class="number">0</span>], <span class="comment">// value 값이 반환됨.</span></div><div class="line">    done: --idx === <span class="keyword">this</span>.length</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// this를 바인딩해야하므로 ES5식 함수 사용</span></div><div class="line"><span class="keyword">const</span> makeIteratorObject = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> idx = <span class="number">0</span>;</div><div class="line">  <span class="keyword">return</span> &#123; <span class="comment">// Iterator 인터페이스를 준수한 객체를 반환</span></div><div class="line">    next: <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">// 이 next 함수 안에 있는 내용은 매번 실행됨.</span></div><div class="line">      <span class="comment">// IteratorResult 인터페이스를 준수한 객체를 반환</span></div><div class="line">      <span class="keyword">return</span> makeIteratorResultObject.call(<span class="keyword">this</span>, ++idx);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="literal">undefined</span>, <span class="number">0</span>];</div><div class="line"></div><div class="line"><span class="comment">// arr은 Iterable 인터페이스를 준수한 객체가 됨.</span></div><div class="line">arr[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// 요 함수에 있는 내용은 한 번만 실행됨.</span></div><div class="line">  <span class="comment">// Iterator 인터페이스를 준수한 객체를 반환</span></div><div class="line">  <span class="keyword">return</span> makeIteratorObject.call(<span class="keyword">this</span>);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> arr2 = [...arr]; <span class="comment">// [0, undefined, 3, 2, 1]</span></div></pre></td></tr></table></figure></p>
<p>IteratorResult 객체, Iterator 객체, Iterable 객체, 이 3개를 다 구현하기란 매우 귀찮고 어렵다.<br>따라서 제너레이터를 사용하면 아래와 같이 바꿀 수 있게 된다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="literal">undefined</span>, <span class="number">0</span>];</div><div class="line"></div><div class="line"><span class="comment">// arr은 Iterable 인터페이스를 준수한 객체가 됨.</span></div><div class="line">arr[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="comment">// Iterator 인터페이스를 준수한 객체를 반환</span></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, length=<span class="keyword">this</span>.length; i&lt;length; i++) <span class="keyword">yield</span> <span class="keyword">this</span>.slice(-i)[<span class="number">0</span>];</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 반복문의 횟수를 오타낼 염려가 있으니 아래와 같이도 할 수 있다.</span></div><div class="line"><span class="comment">// arr[Symbol.iterator] = function*() &#123;</span></div><div class="line"><span class="comment">//   yield* this.map(function(v, idx)&#123;</span></div><div class="line"><span class="comment">//     return this.slice(-(++idx))[0];</span></div><div class="line"><span class="comment">//   &#125;, this);</span></div><div class="line"><span class="comment">// &#125;; </span></div><div class="line"></div><div class="line"><span class="keyword">const</span> gen = arr[<span class="built_in">Symbol</span>.iterator]();</div><div class="line"></div><div class="line"><span class="built_in">console</span>.dir(gen); <span class="comment">// 제너레이터 함수의 실행 결과는 Iterator 객체를 반환한다.</span></div><div class="line"><span class="built_in">console</span>.log(gen.next()); <span class="comment">// &#123; value: 0, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(gen.next()); <span class="comment">// &#123; value: undefined, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(gen.next()); <span class="comment">// &#123; value: 3, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(gen.next()); <span class="comment">// &#123; value: 2, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(gen.next()); <span class="comment">// &#123; value: 1, done: false &#125;</span></div><div class="line"><span class="built_in">console</span>.log(gen.next()); <span class="comment">// &#123; value: undefined, done: true &#125;</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">const</span> a <span class="keyword">of</span> arr) <span class="built_in">console</span>.log(a); <span class="comment">// 0 undefined 3 2 1</span></div></pre></td></tr></table></figure></p>
<p><img src="00.png" alt="console.dir로 제너레이터 함수의 실행 결과를 찍어본 결과">  </p>
<p>마법과도 같은 일이 일어났다.<br>그럼 이 마법같은 일을 낱낱이 파헤쳐보자.  </p>
<h2 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h2><p>일단 두 가지 케이스가 눈에 띄었다.<br><code>function 키워드 뒤의 *</code>와 <code>yield</code>.<br>funcion 키워드 뒤의 *는 이 함수가 제너레이터 함수라는 것을 명시해주는 기능을 한다.<br>그리고 그 일반 함수가 아닌 제너레이터 함수에서는 yield 키워드를 쓸 수 있다.<br>이 yield는 return과 마찬가지로 값을 반환하는 기능을 하는데, 함수는 종료시키지 않는다.<br>next를 호출할 때마다 yield 구문까지의 코드를 실행하고 yield 값을 반환하게 되는 것이다.<br>그리고 실행 컨텍스트를 어디선가 물고 있어서 코드의 흐름과 상관없이 next를 호출할 때마다 그 실행 결과를 보장받게 되는 것이다.<br>몇 가지 예제들을 통해 그 특성들을 알아보자.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> gen = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'내가 실행됐니?'</span>);</div><div class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</div><div class="line">  <span class="keyword">const</span> b = <span class="keyword">yield</span> <span class="number">3</span>;</div><div class="line">  <span class="built_in">console</span>.log(b);</div><div class="line">  <span class="keyword">const</span> c = <span class="keyword">yield</span> <span class="number">4</span>;</div><div class="line">  <span class="built_in">console</span>.log(c);</div><div class="line">  <span class="keyword">return</span> <span class="number">4</span>;</div><div class="line">  <span class="keyword">yield</span> <span class="number">5</span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">let</span> a = gen(); <span class="comment">// 이터레이터 객체를 반환</span></div><div class="line"></div><div class="line"><span class="comment">// 내가 실행됐니?가 출력되고, 1을 반환</span></div><div class="line"><span class="built_in">console</span>.log(a.next());</div><div class="line"></div><div class="line"><span class="comment">// b에 yield 3이 할당되고, 3이 반환됨.</span></div><div class="line"><span class="built_in">console</span>.log(a.next());</div><div class="line"></div><div class="line"><span class="comment">// 하지만 yield 3 자체는 undefined를 반환해서 b에는 undefined가 찍힘.</span></div><div class="line"><span class="comment">// 그리고 c에 yield 4가 할당되고, 4가 반환됨.</span></div><div class="line"><span class="built_in">console</span>.log(a.next());</div><div class="line"></div><div class="line"><span class="comment">// 원래 c에는 yield 4가 할당돼 undefined가 찍혀야하지만, next에 매개변수를 주면 c에 새로운 값을 할당하게 됨.</span></div><div class="line"><span class="comment">// 따라서 9를 출력.</span></div><div class="line"><span class="built_in">console</span>.log(a.next(<span class="number">9</span>));</div><div class="line"></div><div class="line"><span class="comment">// return 이후로는 닿질 못한다.</span></div><div class="line"><span class="built_in">console</span>.log(a.next()); <span class="comment">// &#123; value: undefined, done: true &#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'-----------------'</span>);</div><div class="line"></div><div class="line"><span class="comment">// 이터레이터 내부의 요소(yield)들을 모두 소모했으므로 재충전(?)</span></div><div class="line">a = gen();</div><div class="line"><span class="comment">// 이터레이터이므로 for of 구문을 사용할 수 있다.  </span></div><div class="line"><span class="comment">// 반환 값으로는 yield에 지정한 값들이 반환된다.</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">const</span> v <span class="keyword">of</span> a) <span class="built_in">console</span>.log(v);</div></pre></td></tr></table></figure></p>
<p>yield는 모든 타입을 반환할 수 있다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> gen = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> a = &#123;<span class="attr">obj</span>: <span class="number">2</span>&#125;;</div><div class="line">  <span class="keyword">yield</span> a;</div><div class="line">  <span class="keyword">yield</span> () =&gt; <span class="built_in">console</span>.log(<span class="number">7777777</span>);</div><div class="line">  <span class="keyword">yield</span>* [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</div><div class="line">  <span class="keyword">yield</span>* (<span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;<span class="keyword">yield</span> <span class="number">5</span>; <span class="keyword">yield</span> <span class="number">6</span>;&#125;)();</div><div class="line">  <span class="keyword">yield</span> <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;<span class="keyword">yield</span> <span class="number">7</span>; <span class="keyword">yield</span> <span class="number">8</span>;&#125;;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 제너레이터 함수의 실행 결과로 이터레이터 객체가 a에 담기게 된다.</span></div><div class="line"><span class="keyword">const</span> a = gen();</div><div class="line"></div><div class="line"><span class="comment">// a.next()까지 하게 되면 IterableResult 객체인 &#123; value: &#123; obj: 2 &#125;, done: false &#125;가 반환된다.</span></div><div class="line"><span class="comment">// 실제 for of와 같은 문법에서도 value 값을 반환하게 되는 것이다.</span></div><div class="line"><span class="built_in">console</span>.log(a.next().value);</div><div class="line"></div><div class="line"><span class="comment">// 반환값이 함수이니 반환된 함수를 실행하니 7777이 콘솔 로그에 찍힘.</span></div><div class="line"><span class="built_in">console</span>.log(a.next().value());</div><div class="line"></div><div class="line"><span class="comment">// yield에도 *(asterisk)를 찍어줄 수 있는데 yield를 쪼갠다고 보면 된다.</span></div><div class="line"><span class="built_in">console</span>.log(a.next().value); <span class="comment">// 1</span></div><div class="line"><span class="built_in">console</span>.log(a.next().value); <span class="comment">// 2</span></div><div class="line"><span class="built_in">console</span>.log(a.next().value); <span class="comment">// 3</span></div><div class="line"><span class="built_in">console</span>.log(a.next().value); <span class="comment">// 4</span></div><div class="line"></div><div class="line"><span class="comment">// 그 다음엔 제너레이터 함수를 즉시 실행했으므로 이터레이터 객체가 반환된다.</span></div><div class="line"><span class="comment">// 그 반환된 이터레이터 객체를 *을 써서 또 쪼갰다.</span></div><div class="line"><span class="built_in">console</span>.log(a.next().value); <span class="comment">// 5</span></div><div class="line"><span class="built_in">console</span>.log(a.next().value); <span class="comment">// 6</span></div><div class="line"></div><div class="line"><span class="comment">// 이번엔 제너레이터 함수의 실행 결과가 아닌 함수 자체를 리턴했으므로 쪼갤 수가 없다.</span></div><div class="line"><span class="comment">// 따라서 그 함수를 실행한 이터레이터 객체를 b에 따로 담아서 쪼개줘야한다.</span></div><div class="line"><span class="keyword">const</span> b = a.next().value();</div><div class="line"><span class="built_in">console</span>.log(b.next().value); <span class="comment">// 7</span></div><div class="line"><span class="built_in">console</span>.log(b.next().value); <span class="comment">// 8</span></div></pre></td></tr></table></figure></p>
<p>제너레이터 함수의 스코프를 벗어나는 공간에 yield를 쓸 수 없다.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> gen = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line">  <span class="comment">// 콜백 함수는 제너레이터 함수가 아니므로 yield를 쓸 수 없다.</span></div><div class="line">  arr.forEach(<span class="function"><span class="params">v</span> =&gt;</span> <span class="keyword">yield</span> v);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>제너레이터를 통해 비동기 함수를 제어하는 방법이 있지만 ES2017의 async와 await를 적극 활용하기 바란다. </p>
<ul>
<li><a href="/2017/01/25/ES6-ajax-with-fetch/">(ES6+) ajax를 위한 fetch와 async/await</a>  </li>
<li><a href="/2017/04/03/js-async-function/">(ES6+) 비동기 함수를 깔끔하게 처리해보자.</a></li>
</ul>
<h2 id="참조-링크"><a href="#참조-링크" class="headerlink" title="참조 링크"></a>참조 링크</h2><ul>
<li><a href="http://www.bsidesoft.com/?p=2913" rel="external nofollow noopener noreferrer" target="_blank">[es6] GDG 2016 발표자료</a>  </li>
<li><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/function*" rel="external nofollow noopener noreferrer" target="_blank">function* - JavaScript | MDN</a>  </li>
<li><a href="http://hacks.mozilla.or.kr/2015/08/es6-in-depth-generators/" rel="external nofollow noopener noreferrer" target="_blank">ES6 In Depth: 제너레이터(Generator) ★ Mozilla 웹 기술 블로그</a>  </li>
<li><a href="https://bcnam.github.io/bcnam.github.io/2016/11/29/2016-11-29-ES6-Generator-and-yield/" rel="external nofollow noopener noreferrer" target="_blank">ES6 Generator with Aysnc | programmist</a></li>
</ul>

        </div>
        
        <footer class="article-footer">
            



    <a data-url="http://perfectacle.github.io/2017/04/22/ES6-Generator/" data-id="cj87jnknh001c6hn9p2k5s7gl" class="article-share-link"><i class="fa fa-share"></i>공유하기</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
        
    </div>
</article>


    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                    </div>
                </section>
                
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <p>&copy; 2017 양권성</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'exobud';
    
    
    var disqus_url = 'http://perfectacle.github.io/2017/04/22/ES6-Generator/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
